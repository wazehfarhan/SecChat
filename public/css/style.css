/* ============================================================
   VanishChat — Stylesheet
   Clean dark theme designed for an ephemeral, secretive feel
   ============================================================ */

/* ── Reset & Base ─────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    --bg:           #0d0f14;
    --surface:      #161b25;
    --surface-2:    #1e2535;
    --border:       #2a3248;
    --accent:       #5c7cfa;
    --accent-hover: #748ffc;
    --danger:       #e03131;
    --success:      #2f9e44;
    --text:         #e2e8f0;
    --text-muted:   #8898aa;
    --font:         'Segoe UI', system-ui, -apple-system, sans-serif;
    --radius:       10px;
    --shadow:       0 4px 24px rgba(0,0,0,0.4);
}

body {
    background: var(--bg);
    color:      var(--text);
    font-family: var(--font);
    min-height: 100vh;
    display:    flex;
    flex-direction: column;
    align-items: center;
    padding:    0 1rem;
}

a { color: var(--accent); text-decoration: none; }

.hidden { display: none !important; }

/* ── Utility ──────────────────────────────────────────────── */
.card {
    background:    var(--surface);
    border:        1px solid var(--border);
    border-radius: var(--radius);
    box-shadow:    var(--shadow);
    padding:       2rem;
}

.btn {
    display:       inline-flex;
    align-items:   center;
    justify-content: center;
    gap:           0.4rem;
    padding:       0.65rem 1.4rem;
    border:        none;
    border-radius: 8px;
    font-size:     0.95rem;
    font-weight:   600;
    cursor:        pointer;
    transition:    background 0.15s, transform 0.1s;
}
.btn:active { transform: scale(0.97); }

.btn-primary {
    background: var(--accent);
    color:      #fff;
}
.btn-primary:hover { background: var(--accent-hover); }

.btn-ghost {
    background: var(--surface-2);
    color:      var(--text);
    border:     1px solid var(--border);
}
.btn-ghost:hover { background: var(--border); }

.btn-danger {
    background: var(--danger);
    color:      #fff;
}

.input {
    width:         100%;
    background:    var(--surface-2);
    border:        1px solid var(--border);
    border-radius: 8px;
    color:         var(--text);
    font-size:     1rem;
    padding:       0.65rem 1rem;
    outline:       none;
    transition:    border-color 0.15s;
}
.input:focus { border-color: var(--accent); }
.input-error { border-color: var(--danger) !important; }

select.input { appearance: none; cursor: pointer; }

label {
    display:     block;
    font-size:   0.85rem;
    color:       var(--text-muted);
    margin-bottom: 0.4rem;
    font-weight: 500;
}

.field { margin-bottom: 1.1rem; }

/* ── Header ───────────────────────────────────────────────── */
header {
    width:      100%;
    max-width:  900px;
    padding:    1.25rem 0;
    display:    flex;
    align-items: center;
    gap:        0.6rem;
    border-bottom: 1px solid var(--border);
    margin-bottom: 2.5rem;
}

.logo {
    font-size:   1.5rem;
    font-weight: 800;
    letter-spacing: -0.5px;
    color:       var(--text);
}
.logo span { color: var(--accent); }

.tagline {
    font-size:  0.78rem;
    color:      var(--text-muted);
    margin-left: auto;
}

/* ── Home View ────────────────────────────────────────────── */
#view-home {
    width:      100%;
    max-width:  800px;
    display:    grid;
    grid-template-columns: 1fr 1fr;
    gap:        1.5rem;
}

@media (max-width: 600px) {
    #view-home { grid-template-columns: 1fr; }
}

.card-title {
    font-size:   1.05rem;
    font-weight: 700;
    margin-bottom: 1.25rem;
    display:     flex;
    align-items: center;
    gap:         0.5rem;
}

/* ── Chat View ────────────────────────────────────────────── */
#view-chat {
    width:      100%;
    max-width:  900px;
    display:    flex;
    flex-direction: column;
    height:     calc(100vh - 120px);
}

.chat-header {
    background:    var(--surface);
    border:        1px solid var(--border);
    border-radius: var(--radius) var(--radius) 0 0;
    padding:       0.85rem 1.25rem;
    display:       flex;
    align-items:   center;
    gap:           1rem;
    flex-wrap:     wrap;
}

.room-code-badge {
    background:    var(--surface-2);
    border:        1px solid var(--border);
    border-radius: 6px;
    padding:       0.3rem 0.7rem;
    font-family:   monospace;
    font-size:     1.05rem;
    font-weight:   700;
    letter-spacing: 0.15em;
    color:         var(--accent);
}

.chat-meta {
    display:    flex;
    flex-direction: column;
    gap:        0.1rem;
}

#room-type-display { font-size: 0.82rem; color: var(--text-muted); }

#room-timer {
    font-size:   0.78rem;
    font-weight: 600;
    color:       var(--success);
    background:  rgba(47,158,68,0.12);
    padding:     0.2rem 0.6rem;
    border-radius: 20px;
}

#room-timer.timer-warning {
    color:      #f08c00;
    background: rgba(240,140,0,0.12);
}

#copy-code-btn {
    margin-left: auto;
    font-size:   0.82rem;
    padding:     0.35rem 0.8rem;
}

/* ── Messages ─────────────────────────────────────────────── */
#messages {
    flex:          1;
    overflow-y:    auto;
    padding:       1.25rem;
    background:    var(--bg);
    border-left:   1px solid var(--border);
    border-right:  1px solid var(--border);
    display:       flex;
    flex-direction: column;
    gap:           0.85rem;
    scroll-behavior: smooth;
}

#messages::-webkit-scrollbar { width: 5px; }
#messages::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }

.msg-bubble {
    max-width:     70%;
    padding:       0.7rem 1rem;
    border-radius: 14px;
    position:      relative;
}

.msg-mine {
    align-self:    flex-end;
    background:    var(--accent);
    border-bottom-right-radius: 4px;
}

.msg-theirs {
    align-self:    flex-start;
    background:    var(--surface-2);
    border:        1px solid var(--border);
    border-bottom-left-radius: 4px;
}

.msg-nick {
    display:     block;
    font-size:   0.72rem;
    font-weight: 700;
    color:       rgba(255,255,255,0.65);
    margin-bottom: 0.25rem;
}

.msg-mine .msg-nick { text-align: right; }

.msg-text {
    font-size:   0.95rem;
    line-height: 1.45;
    word-break:  break-word;
    white-space: pre-wrap;
}

.msg-time {
    display:    block;
    font-size:  0.68rem;
    color:      rgba(255,255,255,0.5);
    margin-top: 0.3rem;
    text-align: right;
}

.msg-system {
    align-self:  center;
    font-size:   0.78rem;
    color:       var(--text-muted);
    background:  var(--surface-2);
    padding:     0.3rem 0.9rem;
    border-radius: 20px;
    border:      1px solid var(--border);
}

/* ── Message Input Bar ────────────────────────────────────── */
.chat-input-bar {
    display:       flex;
    gap:           0.6rem;
    padding:       0.85rem 1rem;
    background:    var(--surface);
    border:        1px solid var(--border);
    border-top:    none;
    border-radius: 0 0 var(--radius) var(--radius);
}

#message-input {
    flex:        1;
    resize:      none;
    height:      44px;
    max-height:  120px;
    line-height: 1.4;
    font-family: var(--font);
}

#send-btn {
    flex-shrink: 0;
    padding:     0.65rem 1.2rem;
}

/* ── Nickname Modal ───────────────────────────────────────── */
.modal-overlay {
    position:   fixed;
    inset:      0;
    background: rgba(0,0,0,0.7);
    display:    flex;
    align-items: center;
    justify-content: center;
    z-index:    100;
    backdrop-filter: blur(4px);
}

.modal-box {
    background:    var(--surface);
    border:        1px solid var(--border);
    border-radius: var(--radius);
    padding:       2rem;
    width:         min(380px, 90vw);
    box-shadow:    var(--shadow);
}

.modal-box h2 {
    font-size:     1.1rem;
    margin-bottom: 0.5rem;
}

.modal-box p {
    font-size:     0.85rem;
    color:         var(--text-muted);
    margin-bottom: 1.25rem;
}

/* ── Expired View ─────────────────────────────────────────── */
#view-expired {
    max-width:  480px;
    text-align: center;
    margin-top: 4rem;
}

#view-expired .card {
    padding: 3rem 2rem;
}

.expired-icon {
    font-size:     4rem;
    margin-bottom: 1rem;
    display:       block;
}

#view-expired h2 {
    font-size:     1.4rem;
    margin-bottom: 0.75rem;
}

#view-expired p {
    color:         var(--text-muted);
    font-size:     0.9rem;
    margin-bottom: 1.5rem;
    line-height:   1.6;
}

/* ── Feature Pills ────────────────────────────────────────── */
.feature-pills {
    display:    flex;
    flex-wrap:  wrap;
    gap:        0.5rem;
    margin-top: 1.5rem;
}

.pill {
    font-size:     0.75rem;
    padding:       0.3rem 0.75rem;
    border-radius: 20px;
    background:    var(--surface-2);
    border:        1px solid var(--border);
    color:         var(--text-muted);
}

/* ── Encryption Badge ─────────────────────────────────────── */
.enc-badge {
    display:    flex;
    align-items: center;
    gap:        0.4rem;
    font-size:  0.75rem;
    color:      var(--success);
    background: rgba(47,158,68,0.1);
    padding:    0.4rem 0.85rem;
    border-radius: 20px;
    border:     1px solid rgba(47,158,68,0.2);
    margin-top: 0.85rem;
}
